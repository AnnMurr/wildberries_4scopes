(()=>{var t={507:(t,e,n)=>{"use strict";n.d(e,{$:()=>s});class s{static userUrl="https://646e07219c677e23218ae1e2.mockapi.io/users/user";static setUser(t,e,n){return new Promise(((s,r)=>{fetch(this.userUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t,password:e,token:n,orders:[]})}).then((t=>{t.ok?s():r(new Error("Failed to set user"))})).catch((t=>r(t)))}))}static getUserByLogin(t){return fetch(this.userUrl).then((t=>t.json())).then((e=>e.find((e=>t===e.login)))).catch((t=>{throw t}))}static getUserByToken(t){return fetch(this.userUrl).then((t=>t.json())).then((e=>e.find((e=>t===e.token.toString())))).catch((t=>{throw t}))}static async changeUserOrders(t,e){const n=await this.getUserByToken(t),s=n.id;return n.orders=e,fetch(`${this.userUrl}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>{if(t.ok)return t.json();throw new Error("Failed to change user data")})).catch((t=>{throw t}))}}},783:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});const s=(t,e)=>{const n=document.getElementById("alert-container"),s=document.createElement("div"),r=document.createElement("span");r.innerText=e,s.classList.add("alert"),s.classList.add(`${t}`),s.appendChild(r),n.appendChild(s),setTimeout((()=>{s.classList.add("remove"),setTimeout((()=>{s.remove()}),300)}),3e3)};class r{static error(t){s("error",t)}static warning(t){s("warning",t)}static access(t){s("access",t)}}},434:(t,e,n)=>{"use strict";n.d(e,{B:()=>o});var s=n(507),r=n(835);function o(){const t=JSON.parse(localStorage.getItem("basketStore")),e=r.w.getTokenStore();e&&s.$.changeUserOrders(e,t)}},869:()=>{const t=document.querySelector(".order-list"),e=document.querySelector(".company-list"),n=document.querySelector(".footer__content-wrapper-cust"),s=document.querySelector(".footer__content-wrapper-comp"),r=document.querySelector(".icon-arrow-down-cust"),o=document.querySelector(".icon-arrow-down-comp"),c=document.querySelector(".footer__btn-up");function a(t,e,n,s){t.classList.contains(n)&&(t.classList.remove(n),e.classList.remove(s))}n.addEventListener("click",(function(){t.classList.contains("order-list_active")?(t.classList.remove("order-list_active"),r.classList.remove("icon-arrow-down-cust_active")):(t.classList.add("order-list_active"),r.classList.add("icon-arrow-down-cust_active"),a(e,o,"company-list_active","icon-arrow-down-comp_active"))})),s.addEventListener("click",(function(){e.classList.contains("company-list_active")?(e.classList.remove("company-list_active"),o.classList.remove("icon-arrow-down-comp_active")):(e.classList.add("company-list_active"),o.classList.add("icon-arrow-down-comp_active"),a(t,r,"order-list_active","icon-arrow-down-cust_active"))})),window.addEventListener("scroll",(function(){window.scrollY>document.documentElement.clientHeight&&(c.classList.add("footer__btn-up_active"),setTimeout((()=>c.classList.remove("footer__btn-up_active")),3e3))}))},107:(t,e,n)=>{"use strict";n.d(e,{B:()=>u});var s=n(434);const r=document.querySelector(".cards__inner");let o=9;function c(){const t=document.querySelector(".cards__btn-show-more");let e=0;const n=Array.from(r.children);for(;e<o&&e<n.length;e++)n[e].classList.add("card_active");n.forEach((t=>{t.classList.contains("card_active")&&setTimeout((()=>t.style.opacity="1"),100)})),e>=n.length?t.style.display="none":t.style.display="block",t.addEventListener("click",a)}function a(){o+=9,c()}var i=n(865),l=n(783);const d=document.querySelector(".cards__inner");function u(t){for(let e of t)d.appendChild(m(e));c()}function m(t){const e=document.createElement("div");return e.classList.add("card"),e.innerHTML=`\n\t<div class="card__view">\n\t\t<img src="${t.image}" alt="image" class="card__img">\n\t\t<button type="button" class="card__btn-quick-view" data-id="${t.id}">Быстрый просмотр</button>\n\t</div>\n\t<div class="card__inner">\n\t\t<div class="card__info">\n\t\t\t<h4 class="card__title">${t.title}</h4>\n\t\t\t<h5 class="card__price">${t.price+"$"}</h5>\n\t\t</div>\n\t\t<div class="card__subinfo">\n\t\t\t<span class="card__discount">${"-"+t.sale+"%"}</span>\n\t\t\t<span class="card__old-price">${t.old_price+"$"}</span>\n\t\t</div>\n\t</div>\n\t<button type="button" class="card__btn-add-basket" data-id="${t.id}">В корзину</button>`,e}let _=!1;d.addEventListener("click",(function(t){if(t.target.classList.contains("card__btn-quick-view")){const e=t.target.dataset.id,n=i.v.getSelectedCard(e);if(n){const t=function(t){const e=document.createElement("div");return e.classList.add("card-modal"),e.innerHTML=`\n\t\t<div class="container">\n\t\t\t<div class="card-modal__wrapper">\n\t\t\t\t<img class="card-modal__img" src="${t.image}">\n\t\t\t\t<div class="card-modal__inner">\n\t\t\t\t\t<div class="modal-header card-modal__header">\n\t\t\t\t\t\t<h2 class="modal-header__title">${t.title}</h2>\n\t\t\t\t\t\t<button class="btn-close" type="button"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="card-modal__info"><span>Состав:</span> Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus veniam ipsam nostrum nisi architecto similique praesentium culpa nam illum modi.</p>\n\t\t\t\t\t<div class="card-modal__subinfo">\n\t\t\t\t\t\t<h3 class="card-modal__price">${t.price+"$"}</h3>\n\t\t\t\t\t\t<h4 class="card-modal__old-price">${t.old_price+"$"}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type="button" class="card-modal__btn-add-basket" data-id="${t.id}">Добавить в корзину</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`,e}(n);d.appendChild(t)}}})),d.addEventListener("click",(function(t){if(t.target.classList.contains("card__btn-add-basket")||t.target.classList.contains("card-modal__btn-add-basket")){const e=t.target.dataset.id,n=i.v.getSelectedCard(e);if(n){let t=localStorage.getItem("basketStore"),e=[];t&&(e=JSON.parse(t)),e.push(n),localStorage.setItem("basketStore",JSON.stringify(e)),(0,s.B)(),l.c.access("Товар добавлен в корзину")}}})),d.addEventListener("click",(function(t){t.target.classList.contains("card__title")&&(_?(!function(){const t=document.querySelectorAll(".card");for(let e=0;e<t.length;e++)t[e].style.display="flex"}(),_=!1):(!function(t){const e=document.querySelectorAll(".card__title");for(let n=0;n<e.length;n++){const s=e[n].closest(".card");e[n].textContent===t?s.style.display="flex":s.style.display="none"}}(t.target.textContent),_=!0))})),d.addEventListener("click",(function(t){t.target.classList.contains("card__btn-del-all-basket")&&localStorage.removeItem("basketStore")})),d.addEventListener("click",(function(t){t.target.classList.contains("btn-close")&&t.target.closest(".card-modal").remove()}))},865:(t,e,n)=>{"use strict";n.d(e,{v:()=>s});class s{static cards=[];static getCards(){return this.cards}static setCards(t){this.cards=t}static getSelectedCard(t){return this.cards.find((e=>e.id===t))}}},835:(t,e,n)=>{"use strict";n.d(e,{w:()=>r});const s="token";class r{static user={};static getTokenStore(){return sessionStorage.getItem(s)}static setTokenStore(t){return sessionStorage.setItem(s,t)}static removeTokenStore(){return sessionStorage.removeItem(s)}}}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";let t=0,e=0;function s(n,s,r){"fixed"===n&&(t=window.scrollY||document.documentElement.scrollTop,e=window.scrollX||document.documentElement.scrollLeft),body.style.position=n,body.style.width=s,body.style.overflowY=r,"fixed"!==n&&window.scrollTo(e,t)}const r=document.querySelector(".burger"),o=document.querySelector(".footer-bar__sidebar-btn"),c=document.querySelector(".sidebar"),a=document.querySelector(".sidebar .btn-close");function i(){c.classList.contains("sidebar_active")?(c.classList.remove("sidebar_active"),s(null,null,null)):(c.classList.add("sidebar_active"),s("fixed","100%","scroll"),l())}function l(){c.classList.contains("sidebar_active")?document.addEventListener("click",d):document.removeEventListener("click",d)}function d(t){c.contains(t.target)||r.contains(t.target)||o.contains(t.target)||(c.classList.remove("sidebar_active"),s(null,null,null),l())}r.addEventListener("click",i),o.addEventListener("click",i),a.addEventListener("click",(function(){c.classList.contains("sidebar_active")&&(c.classList.remove("sidebar_active"),s(null,null,null))}));var u=n(507);const m=[{tag:"input",class:"user__input",attributes:[{required:!0},{placeholder:"Логин"},{type:"text"}]},{tag:"span",class:["error-message","error-message_registration-login"]},{tag:"input",class:"user__input",attributes:[{required:!0},{placeholder:"Пароль"},{type:"password"},{"data-input":"1"}]},{tag:"button",class:"btn-show-password",attributes:[{href:"#"},{"data-btn":"1"},{type:"button"}],text:"показать пароль"},{tag:"span",class:["error-message","error-message_registration-password-first"]},{tag:"input",class:"user__input",attributes:[{required:!0},{placeholder:"Повторите пароль"},{type:"password"},{"data-input":"2"}]},{tag:"button",class:"btn-show-password",attributes:[{href:"#"},{"data-btn":"2"},{type:"button"}],text:"показать пароль"},{tag:"span",class:["error-message","error-message_registration-password-second"]},{tag:"button",class:["btn","registration__btn"],content:"Зарегистрироваться",attributes:[{type:"submit"}]}],_=[{tag:"input",class:"user__login-input",attributes:[{required:!0},{placeholder:"Логин"},{type:"text"}]},{tag:"span",class:["error-message","error-message_login"]},{tag:"input",class:"user__login-input",attributes:[{required:!0},{placeholder:"Введите пароль"},{type:"password"},{"data-input":"input"}]},{tag:"button",class:"btn-show-password",attributes:[{href:"#"},{"data-btn":"password"},{type:"button"}],text:"показать пароль"},{tag:"span",class:["error-message","error-message_password"]},{tag:"button",class:["btn","login-btn"],content:"Войти",attributes:[{type:"submit"}]}];var b=n(835);function p(t,e,n){const s=document.createElement("form");s.classList.add(t),function(t,e){e.forEach((e=>{const n=document.createElement(e.tag);Array.isArray(e.class)&&e.class.length>0?e.class.forEach((t=>n.classList.add(t))):n.classList.add(e.class),e.id&&(n.id=e.id),e.text&&(n.textContent=e.text),e.content&&(n.textContent=e.content),e.dataset&&(n.dataset.data=e.dataset.data),e.attributes&&e.attributes.length>0&&e.attributes.forEach((t=>{const[e,s]=Object.entries(t)[0];n.setAttribute(e,s)})),t.appendChild(n)}))}(s,e),n.appendChild(s)}function v(){b.w.removeTokenStore(),localStorage.setItem("basketStore",JSON.stringify([])),location.reload()}const g=document.querySelector(".user__submenu"),f=document.querySelector(".user-btn");function L(){const t=b.w.getTokenStore();t?(async function(t){const e=await u.$.getUserByToken(t);if(e){const t=g.children;g.removeChild(t[1]),g.removeChild(t[1]),t[0].querySelector(".modal-header__title > h2").textContent=`Здравствуйте, ${e.login}!`;const n=document.createElement("button");n.type="button",n.classList.add("btn","user__submenu-btn-exit"),n.textContent="Выйти из аккаунта",g.appendChild(n),n.addEventListener("click",v)}}(t),f.classList.add("user-btn_authorized")):f.classList.remove("user-btn_authorized")}function y(t,e){const n=document.querySelector(t).parentNode;n.innerHTML=null;const s=document.createElement("div"),r=document.createElement("span");s.classList.add("success-container"),r.classList.add("success-message"),r.textContent=e,s.appendChild(r),n.append(s),setTimeout((function(){n.remove()}),3e3)}var h=n(434);const S=document.querySelector(".user__registration"),k=document.querySelector(".user__registration-btn-close"),w=document.querySelector(".user__submenu-btn-registration"),E=document.querySelector(".user-btn");function q(t){S.contains(t.target)||w.contains(t.target)||S.classList.remove("user__registration_active"),S.classList.contains("user__registration_active")||(document.removeEventListener("click",q),E.classList.remove("user-btn_active"),registrationForm=document.querySelector(".user__registration-form"),registrationForm&&(registrationForm.reset(),document.querySelector('[data-input="1"]').type="password",document.querySelector('[data-input="2"]').type="password",document.querySelector('[data-btn="1"]').textContent="показать пароль",document.querySelector('[data-btn="2"]').textContent="показать пароль",C()))}function C(){const t=document.querySelector(".error-message_registration-login"),e=document.querySelector(".error-message_registration-password-first"),n=document.querySelector(".error-message_registration-password-second");t.textContent=null,e.textContent=null,n.textContent=null}function x(t){t.preventDefault(),async function(){let t=document.querySelectorAll(".user__input"),e=[];const n=document.querySelector(".error-message_registration-login"),s=document.querySelector(".error-message_registration-password-first"),r=document.querySelector(".error-message_registration-password-second");t.forEach((t=>e.push(t.value)));const o={login:e[0],password:e[1],token:Math.random()*(new Date).getTime()};let c=await u.$.getUserByLogin(o.login);const a=(t,e,n,s)=>t.textContent=`${s} должен содержать от ${e} до ${n} символов`,i=o.password.length,l=o.login.length;o.login.match(/[!@#$%^&*()[\]{}|\\;:'"<>.,\/?`~=+\-№_]/)?n.textContent="Логин не должен содержать пробелы и символы: !@#$%^&*()-_+={}[]|\\;:'\"<>.,/?`~№":i<8||i>20?a(s,8,20,"Пароль"):l<3||l>20?a(n,3,20,"Логин"):e[1]!==e[2]?(s.textContent="Пароль не совпадает",r.textContent="Пароль не совпадает"):void 0!==c?n.textContent=`Пользователь с логином "${o.login}" уже зарегистрирован`:(u.$.setUser(o.login,o.password,o.token).then((()=>y(".user__registration-form","Регистрация прошла успешно ☑"))),b.w.setTokenStore(o.token),setTimeout((()=>{L(),(0,h.B)()}),3e3))}(),C()}k.addEventListener("click",(function(){S.classList.remove("user__registration_active")})),document.addEventListener("DOMContentLoaded",(function(){p("user__registration-form",m,S),function(){const t=document.querySelector('[data-input="1"]'),e=document.querySelector('[data-input="2"]'),n=document.querySelector('[data-btn="1"]'),s=document.querySelector('[data-btn="2"]');document.querySelectorAll(".btn-show-password").forEach((r=>{r.addEventListener("click",(function(r){let o="1"===r.target.getAttribute("data-btn")?t:e,c="password"===o.type?"text":"password";o.type=c;let a="1"===r.target.getAttribute("data-btn")?n:s,i="показать пароль"===a.textContent?"скрыть пароль":"показать пароль";a.textContent=i}))}))}(),L()}));var T=n(783);const $=document.querySelector(".user__login"),O=document.querySelector(".user__login-btn-close"),B=document.querySelector(".user__submenu-btn-login"),I=document.querySelector(".user-btn");function A(t){$.contains(t.target)||B.contains(t.target)||$.classList.remove("user__login_active"),$.classList.contains("user__login_active")||(document.removeEventListener("click",A),I.classList.remove("user-btn_active"),function(){const t=document.querySelector(".user__login-form");t&&(t.reset(),document.querySelector('[data-btn="password"]').textContent="показать пароль",document.querySelector('[data-input="input"]').type="password",M())}())}function M(){const t=document.querySelector(".error-message_login"),e=document.querySelector(".error-message_password");t.textContent=null,e.textContent=null}function U(t){t.preventDefault(),async function(){let t=document.querySelectorAll(".user__login-input"),e=[];const n=document.querySelector(".error-message_login"),s=document.querySelector(".error-message_password");t.forEach((t=>{e.push(t.value)}));let r=await u.$.getUserByLogin(e[0]);r&&r.password===e[1]?(y(".user__login-form","Вы вошли ✓"),T.c.access("Вы вошли ✓"),b.w.setTokenStore(r.token),localStorage.setItem("basketStore",JSON.stringify(r.orders)),L()):(n.textContent="Неверный логин или пароль",s.textContent="Неверный логин или пароль")}(),M()}O.addEventListener("click",(function(){$.classList.remove("user__login_active"),I.classList.remove("user-btn_active")})),document.addEventListener("DOMContentLoaded",(function(){p("user__login-form",_,$),function(){const t=document.querySelector('[data-btn="password"]'),e=document.querySelector('[data-input="input"]');t.addEventListener("click",(function(){neededType="password"===e.type?"text":"password",e.type=neededType,neededText="показать пароль"===t.textContent?"скрыть пароль":"показать пароль",t.textContent=neededText}))}()}));const N=document.querySelector(".user-btn"),J=document.querySelector(".user__submenu"),H=document.querySelector(".user__submenu-btn-close"),j=document.querySelector(".user__submenu-btn-registration"),D=document.querySelector(".user__submenu-btn-login"),P=document.querySelector(".footer-bar__user");function F(){J.classList.contains("user__submenu_active")?(N.classList.add("user-btn_active"),document.addEventListener("click",W)):(N.classList.remove("user-btn_active"),document.removeEventListener("click",W))}function W(t){J.contains(t.target)||N.contains(t.target)||P.contains(t.target)||t.target.classList.contains("basket__btn-order")||(J.classList.remove("user__submenu_active"),F())}N.addEventListener("click",(function(){J.classList.toggle("user__submenu_active"),F()})),H.addEventListener("click",(function(){J.classList.remove("user__submenu_active"),F()})),j.addEventListener("click",(function(){J.classList.remove("user__submenu_active"),F(),S.classList.add("user__registration_active"),S.classList.contains("user__registration_active")&&(document.addEventListener("click",q),E.classList.add("user-btn_active"),document.querySelector(".registration__btn").addEventListener("click",x))})),D.addEventListener("click",(function(){J.classList.remove("user__submenu_active"),F(),$.classList.add("user__login_active"),$.classList.contains("user__login_active")&&document.addEventListener("click",A),I.classList.add("user-btn_active"),document.querySelector(".login-btn").addEventListener("click",U)}));const Y=document.querySelector(".footer-bar__user"),z=document.querySelector(".user__submenu"),X=document.querySelectorAll(".btn-close"),G=document.querySelector(".user__registration"),K=document.querySelector(".user__login");Y.addEventListener("click",(function(){z.classList.contains("user__submenu_active")||G.classList.contains("user__registration_active")||K.classList.contains("user__login_active")?z.classList.contains("user__submenu_active")&&(z.classList.remove("user__submenu_active"),s(null,null,null),F()):(z.classList.add("user__submenu_active"),s("fixed","100%","scroll"),F())})),X.forEach((t=>t.addEventListener("click",(()=>s(null,null,null)))));const Q=document.querySelector(".basket__modal"),R=document.querySelector(".footer-bar__basket-btn");function V(){const t=nt();Q.classList.contains("basket__modal_active")?Q.classList.remove("basket__modal_active"):(t.length>0?(st(),ct("block","flex"),lt()):(st(),ct("none","none")),Q.classList.add("basket__modal_active"),tt())}function Z(){const t=document.querySelector(".basket-block");Q.classList.remove("basket__modal_active"),t.innerHTML=null,s(null,null,null)}function tt(){Q.classList.contains("basket__modal_active")?document.addEventListener("click",et):document.removeEventListener("click",et)}function et(t){Q.contains(t.target)||t.target.classList.contains("basket-btn")||t.target.classList.contains("basket__list-item-btn-remove")||R.contains(t.target)||(Q.classList.remove("basket__modal_active"),tt())}function nt(){const t=localStorage.getItem("basketStore");return JSON.parse(t)||[]}function st(){const t=document.querySelector(".basket-block"),e=document.createElement("ul");e.classList.add("basket__list"),t.appendChild(e),rt("☹<br>Корзина пуста")}function rt(t){const e=nt(),n=document.querySelector(".basket__list");0===e.length?n.innerHTML=t:(n.textContent=null,e.forEach((t=>{n.append(function(t){const e=document.createElement("li");e.classList.add("basket__list-item");const n=function(){const t=document.createElement("div");return t.classList.add("basket__list-item-wrapper"),t}();return n.append(function(t){const e=document.createElement("div");e.classList.add("basket__list-item-price");const n=document.createElement("h5");return n.textContent=t.price+"$",e.append(n),e}(t),function(t){const e=document.createElement("button");return e.classList.add("icon-trash","basket__list-item-btn-remove"),e.setAttribute("data-id",`${t.id}`),e.addEventListener("click",ot),e}(t)),e.append(function(t){const e=document.createElement("div");e.classList.add("basket__list-item-title");const n=document.createElement("h5");return n.textContent=`${t.title}`,e.append(n),e}(t),n),e}(t))})))}function ot(t){const e=document.querySelector(".basket__list");t.target.classList.contains("basket__list-item-btn-remove")&&(!function(t){let e=localStorage.getItem("basketStore");if(e){let n=JSON.parse(e);const s=n.findIndex((e=>e.id===t));-1!==s&&(n.splice(s,1),localStorage.setItem("basketStore",JSON.stringify(n)),(0,h.B)())}}(t.target.dataset.id),t.target.closest(".basket__list-item").remove(),T.c.warning("Товар удалён из корзины"),dt(),lt()),0===e.children.length&&(rt("☹<br>Корзина пуста"),ct("none","none"))}function ct(t,e){const n=document.querySelector(".basket__btn-delete-all"),s=document.querySelector(".basket__footer");n.style.display=t,s.style.display=e}function at(){const t=document.querySelectorAll(".basket__list-item");localStorage.setItem("basketStore",JSON.stringify([])),t.forEach((t=>t.remove())),rt("☹<br>Корзина пуста"),(0,h.B)(),T.c.warning("Корзина очищена!"),ct("none","none")}function it(){const t=document.querySelector(".user__submenu");b.w.getTokenStore()?(localStorage.setItem("basketStore",JSON.stringify([])),(0,h.B)(),ct("none","none"),rt("Заказ успешно создан 📦")):(Q.classList.remove("basket__modal_active"),t.classList.add("user__submenu_active"),F())}function lt(){const t=document.querySelector(".basket__total-price-value"),e=dt();t.innerText=` ${e} $`}function dt(){const t=JSON.parse(localStorage.getItem("basketStore"));let e=0;return t.forEach((t=>{e+=t.price})),e}R.addEventListener("click",V),R.addEventListener("click",(function(){Q.classList.contains("basket__modal_active")?s("fixed","100%","scroll"):s(null,null,null)})),document.addEventListener("DOMContentLoaded",(function(){!function(){const t=document.createElement("div");t.classList.add("modal-header"),t.innerHTML='\n\t\t<div class="modal-header__title">\n\t\t<h2>Корзина</h2>\n\t\t</div>\n\t\t<button class="btn-close basket__modal-btn-close"></button>\n\t\t',Q.appendChild(t),document.querySelector(".basket__modal-btn-close").addEventListener("click",Z)}(),function(){const t=document.createElement("div");t.classList.add("basket-block"),Q.appendChild(t)}(),function(){const t=document.createElement("button");t.classList.add("btn","basket__btn-delete-all"),t.innerText="Очистить корзину",t.addEventListener("click",at),Q.appendChild(t)}(),function(){const t=nt(),e=document.createElement("div");e.classList.add("basket__footer"),e.innerHTML='\n\t<button type="button" class="btn basket__btn-order">Заказать</button>\n\t <div class="basket__total-price">\n\t  <h4 class="basket__total-price-title">Итого:</h4>\n\t  <h4 class="basket__total-price-value"></h4>\n\t </div>\n\t',Q.appendChild(e),document.querySelector(".basket__btn-order").addEventListener("click",it),0===t.length&&ct("none","none")}(),document.querySelector(".basket-btn").addEventListener("click",V)}));var ut=n(865);function mt(){return fetch("https://646f451109ff19b12086e48a.mockapi.io/wildberries/cards").then((t=>t.json())).then((t=>(ut.v.setCards(t),t))).catch((t=>{throw t}))}var _t=n(107);const bt=document.querySelector(".search"),pt=document.querySelector(".search__input"),vt=document.querySelector(".search-btn"),gt=document.querySelector(".cards__inner");let ft,Lt=[],yt=[];function ht(){document.querySelector(".search__list")&&document.addEventListener("click",St)}function St(t){if(t.target!==pt){let t=document.querySelector(".search__list");t&&t.remove(),document.removeEventListener("click",St)}}function kt(t){gt.innerHTML=null;let e=[];ft.forEach((n=>{n.title.toLowerCase().startsWith(t.toLowerCase())&&e.push(n)})),(0,_t.B)(e)}function wt(t,e){t.forEach((t=>{const n=document.createElement("li");n.classList.add("search__list-item"),n.textContent=t,e.appendChild(n),document.querySelectorAll(".search__list-item").forEach((t=>{t.addEventListener("click",(function(t){gt.innerHTML=null;const e=t.target.textContent;let n=[];ft.forEach((t=>{t.title.toLowerCase()===e.toLowerCase()&&n.push(t),t.brand.toLowerCase()===e.toLowerCase()&&n.push(t)})),(0,_t.B)(n)}))}))}))}pt.addEventListener("input",(function(t){let e=t.target.value,n=Lt.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))),s=yt.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))),r=document.querySelector(".search__list");var o;e?(r?r.innerHTML=null:(r=document.createElement("ul"),r.classList.add("search__list"),bt.appendChild(r),ht()),o=e,pt.addEventListener("keyup",(t=>{"Enter"===t.code&&(kt(o),St({target:document}))})),vt.addEventListener("click",(()=>kt(e))),wt(n,r),wt(s,r)):r&&(r.remove(),ht())})),window.addEventListener("DOMContentLoaded",(async function(){ft=await mt(),(0,_t.B)(ft),ft.forEach((t=>{Lt.includes(t.title)||Lt.push(t.title),yt.includes(t.brand)||yt.push(t.brand)}))})),n(869);class Et{static url="https://649060be1e6aa71680cb2478.mockapi.io/Brands";static async getBrandsImage(){return await fetch(this.url).then((t=>t.json())).catch((t=>console.log(t)))}}const qt=document.querySelector(".brand__wrapper");!async function(){await Et.getBrandsImage().then((t=>{t.forEach((t=>{!function(t,e){const n=document.createElement("a");n.classList.add("brand__inner");const s=document.createElement("img");s.src=t,s.setAttribute("alt",e),n.append(s),qt.append(n)}(t.url,t.alt)}))}))}();const Ct=document.querySelector(".sidebar__list"),xt=document.querySelector(".sidebar"),Tt=document.querySelector(".cards__inner");let $t;Ct.addEventListener("click",(function(t){const e=t.target.textContent;Ot.hasOwnProperty(e)&&async function(t){$t=await mt(),Tt.innerHTML=null;let e=[];$t.forEach((n=>{n.title.toLowerCase().startsWith(t)&&e.push(n)})),(0,_t.B)(e),xt.classList.remove("sidebar_active"),l(),s(null,null,null)}(Ot[e])}));const Ot={Футболки:"майка",Обувь:"кроссовки",Брюки:"штаны",Байки:"байка","Верхняя одежда":"куртка"}})()})();